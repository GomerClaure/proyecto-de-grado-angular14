<!-- Barra de navegacion para el propietario -->
<nav *ngIf="esPropietario()" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">
      <strong>{{nombreRestaurante}}</strong>
    </a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{ 'show': !isMenuCollapsed }" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <!-- Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Menu
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/propietario/platillo" (click)="closeMenu()">Lista de platillos</a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/propietario/categoria" (click)="closeMenu()">Lista de
                categorías</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/propietario/generar" (click)="closeMenu()">Editar menú</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/propietario/qr" (click)="closeMenu()">Generar QR</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" (click)="irAMenu(); closeMenu()">Ver Menú</a></li>
          </ul>
        </li>
        <!-- Registro -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Registro
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/propietario/platillo/registrar" (click)="closeMenu()">Registrar
                platillo</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#modalRCategoria"
                (click)="closeMenu()">Registrar categoría</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/propietario/empleado" (click)="closeMenu()">Registrar empleado</a>
            </li>
          </ul>
        </li>
        <!-- Reporte -->
        <li class="nav-item">
          <a class="nav-link active" routerLink="/propietario/pedidosR" (click)="closeMenu()">Reporte</a>
        </li>
        <!-- Empleados -->
        <li class="nav-item">
          <a class="nav-link active" routerLink="/propietario/manejo-cuenta-empleado"
            (click)="closeMenu()">Empleados</a>
        </li>
      </ul>
      <!-- Mi Perfil -->
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link my-2 my-sm-0 d-flex align-items-center dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <span class="text-center me-2 d-lg-none">Mi perfil</span>

            <img class="rounded-circle d-none d-lg-block" *ngIf="fotoPerfil !== ''" [src]="fotoPerfil"
              alt="Foto de perfil" width="34" height="34" (error) = "fotoPerfilError()"/>

            <svg *ngIf="fotoPerfil === ''" class="d-none d-lg-block" xmlns="http://www.w3.org/2000/svg" width="34"
              height="34" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);">
              <path
                d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 
                3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828
                  18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z">
              </path>
            </svg>
          </a>
          <ul class="dropdown-menu dropdown-menu-start dropdown-menu-end dropdown-menu-custom" style="left: auto; right: 100%;">
            <li><a class="dropdown-item" routerLink="/propietario/datos-personales" (click)="closeMenu()"><i
                  class="bi bi-person me-2 d-lg-none"></i>Datos personales</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()"><i
                  class="bi bi-key me-2 d-lg-none"></i>Cambiar contraseña</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#" (click)="cerrarSesion(); closeMenu()"> <i
                  class="bi bi-box-arrow-right me-2 d-lg-none"></i>Logout </a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- Barra de navegacion para el administrador -->
<nav *ngIf="esAdministrador()" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand"  href="#">Administrador</a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{ 'show': !isMenuCollapsed }" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item" (click)="closeMenu()">
          <a class="nav-link active" aria-current="page" routerLink="/administrador/ver-formularios">Solicitudes</a>
        </li>
        <li class="nav-item" (click)="closeMenu()">
          <a class="nav-link active" aria-current="page"
            routerLink="/administrador/manejo-cuentas-propietarios">Propietarios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#" (click)="cerrarSesion()">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- Barra de navegacion del empleado -->
<!--Si el empleado es mesero-->
<nav *ngIf="esEmpleado() && getRol()=='1'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">
      <strong>{{nombreRestaurante}}</strong>
    </a>
    <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar"
      aria-labelledby="offcanvasNavbarLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-start flex-grow-1 pe-3">
          <li class="nav-item" data-bs-dismiss="offcanvas">
            <a class="nav-link " aria-current="page" routerLink="/mesero/lista-mesa">
              <i class="bi bi-pencil-square me-2 d-lg-none fw-bold"></i>
              Registrar Pedido
            </a>
          </li>
          <li class="nav-item" data-bs-dismiss="offcanvas">
            <a class="nav-link fw-lg-bold" routerLink="/mesero/lista-pedidos">
              <i class="bi bi-list-check me-2 d-lg-none"></i>
              Lista de Pedidos
            </a>
          </li>
        </ul>
        <!-- Mi Perfil -->
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link my-2 my-sm-0 d-flex align-items-center dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <span class="text-center me-2 d-lg-none">Mi perfil</span>

              <img class="rounded-circle d-none d-lg-block" *ngIf="fotoPerfil !== ''" [src]="fotoPerfil"
                alt="Foto de perfil" width="34" height="34" (error) = "fotoPerfilError()"/>
  
              <svg *ngIf="fotoPerfil === ''" class="d-none d-lg-block" xmlns="http://www.w3.org/2000/svg" width="34"
                height="34" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);">
                <path
                  d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 
                  3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828
                   18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z">
                </path>
              </svg>
            </a>
            <ul class="dropdown-menu dropdown-menu-start dropdown-menu-end dropdown-menu-custom" style="left: auto; right: 100%;">
              <li><a class="dropdown-item" routerLink="/empleados/datos-personales" (click)="closeMenu()"><i
                    class="bi bi-person me-2 d-lg-none"></i>Datos personales</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()"><i
                    class="bi bi-key me-2 d-lg-none"></i>Cambiar contraseña</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="#" (click)="cerrarSesion(); closeMenu()"> <i
                    class="bi bi-box-arrow-right me-2 d-lg-none"></i>Logout </a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    <!--notificaciones apartado-->
    <div class="d-flex ms-auto ">
      <div class="dropdown-center mx-2">
        <a class="nav-link dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown" (click)="marcarLeida()"
          aria-expanded="false">
          <i class="bi bi-bell"></i>

          <span *ngIf="notificacionesSinLeer != 0"
            class="position-absolute top-0 start-90 translate-middle badge rounded-pill bg-danger p-1 small">
            {{ notificacionesSinLeer }}
            <span class="visually-hidden">unread messages</span>
          </span>
          <!-- <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span> -->
        </a>
        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-custom">
          <div class="container-titulo mb-3 px-2">
            <p class="fs-5  border-bottom border-dark-subtle border-2">Notificaciones</p>
          </div>
          <li *ngIf="notificaciones.length == 0">
            <a href="" class="list-group-item px-2 " style="width: 278px;">
              No tienes notificaciones
            </a>
          </li>
          <li *ngFor="let notificacion of notificaciones" class="border-bottom border-1 cursor-pointer" routerLink="/mesero/lista-pedidos" (click)="closeMenu()">
            <a class="list-group-item notificacion px-2">
              <div class="d-flex w-100 justify-content-between">
                <strong class="mb-1">{{notificacion.titulo}}</strong>
                <small class="text-end">{{notificacion.creado_hace}}</small>
              </div>
              <p class="mb-1 small">{{notificacion.mensaje}}</p>
            </a>
          </li>
          <li *ngIf="notificaciones.length != 0">
            <a routerLink="/notificacion/lista-notificacion" (click)="marcarLeida()"
              class="list-group-item px-2 notificacion text-end">
              Ver todas <i class="bi bi-chevron-right"></i>
            </a>
          </li>
        </ul>
      </div>


    </div>
    <button class="navbar-toggler btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
      [ngClass]="{'show': !isMenuCollapsed}" aria-controls="offcanvasNavbar" aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>
<!--Si el empleado es cocinero-->
<nav *ngIf="esEmpleado() && getRol()=='3'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">Empleado Cocinero</a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarSupportedContent"
      aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/cocinero/pedido-cocina" (click)="closeMenu()">Ver
            pedidos</a>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link my-2 my-sm-0 d-flex align-items-center dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <span class="text-center me-2 d-lg-none">Mi perfil</span>

            <img class="rounded-circle d-none d-lg-block" *ngIf="fotoPerfil !== ''" [src]="fotoPerfil"
              alt="Foto de perfil" width="34" height="34" (error) = "fotoPerfilError()"/>

            <svg *ngIf="fotoPerfil === ''" class="d-none d-lg-block" xmlns="http://www.w3.org/2000/svg" width="34"
              height="34" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);">
              <path
                d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 
                3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828
                  18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z">
              </path>
            </svg>
          </a>
          <ul class="dropdown-menu dropdown-menu-start dropdown-menu-end dropdown-menu-custom" style="left: auto; right: 100%;">
            <li><a class="dropdown-item" routerLink="/empleados/datos-personales" (click)="closeMenu()"><i
                  class="bi bi-person me-2 d-lg-none"></i>Datos personales</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()"><i
                  class="bi bi-key me-2 d-lg-none"></i>Cambiar contraseña</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#" (click)="cerrarSesion(); closeMenu()"> <i
                  class="bi bi-box-arrow-right me-2 d-lg-none"></i>Logout </a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--Si el empleado es cajero-->
<nav *ngIf="esEmpleado() && getRol()=='2'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home"><strong>{{nombreRestaurante}}</strong></a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarSupportedContent"
      aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Cuentas
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/cajero/lista-pedidos" (click)="closeMenu()">Pedidos</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/cajero/lista-cuentas-cerradas" (click)="closeMenu()">Cerradas</a>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link my-2 my-sm-0 d-flex align-items-center dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <span class="text-center me-2 d-lg-none">Mi perfil</span>

            <img class="rounded-circle d-none d-lg-block" *ngIf="fotoPerfil !== ''" [src]="fotoPerfil"
              alt="Foto de perfil" width="34" height="34" (error) = "fotoPerfilError()" >

            <svg *ngIf="fotoPerfil === ''" class="d-none d-lg-block" xmlns="http://www.w3.org/2000/svg" width="34"
              height="34" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);">
              <path
                d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 
                3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828
                  18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z">
              </path>
            </svg>
          </a>
          <ul class="dropdown-menu dropdown-menu-start dropdown-menu-end dropdown-menu-custom" style="left: auto; right: 100%;">
            <li><a class="dropdown-item" routerLink="/empleados/datos-personales" (click)="closeMenu()"><i
                  class="bi bi-person me-2 d-lg-none"></i>Datos personales</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()"><i
                  class="bi bi-key me-2 d-lg-none"></i>Cambiar contraseña</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#" (click)="cerrarSesion(); closeMenu()"> <i
                  class="bi bi-box-arrow-right me-2 d-lg-none"></i>Logout </a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--Barra de navegacion del publico-->
<nav *ngIf="!esPropietario() && !esEmpleado() && !esAdministrador()"
  class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="../../../assets/ImgLUGO/G BLANCOldpi.png" alt="Logo" style="width: 50px; height: 40px;">
      
    </a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarSupportedContent"
      aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/login" (click)="closeMenu()">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/formulario-registro" (click)="closeMenu()">Registro</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<app-registrar-categoria></app-registrar-categoria>