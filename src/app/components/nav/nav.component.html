<!-- Barra de navegacion para el propietario -->
<nav *ngIf="esPropietario()" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">
      <strong>Restaurant</strong>
    </a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" aria-controls="navbarSupportedContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{ 'show': !isMenuCollapsed }" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <!-- Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Menu
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/propietario/platillo" (click)="closeMenu()">Lista de platillos</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/propietario/categoria" (click)="closeMenu()">Lista de categorías</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/propietario/generar" (click)="closeMenu()">Generar menú</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/propietario/qr" (click)="closeMenu()">Generar QR</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" (click)="irAMenu(); closeMenu()">Ver Menú</a></li>
          </ul>
        </li>

        <!-- Registro -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Registro
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/propietario/platillo/registrar" (click)="closeMenu()">Registrar platillo</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="closeMenu()">Registrar categoría</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/propietario/empleado" (click)="closeMenu()">Registrar empleado</a></li>
          </ul>
        </li>
        <!-- Reporte -->
        <li class="nav-item">
          <a class="nav-link active" routerLink="/propietario/pedidosR" (click)="closeMenu()">Reporte</a>
        </li>
        <!-- Empleados -->
        <li class="nav-item">
          <a class="nav-link active" routerLink="/propietario/manejo-cuenta-empleado" (click)="closeMenu()">Empleados</a>
        </li>
      </ul>
         <!-- Mi Perfil -->
      <ul class="navbar-nav">
      <li class="nav-item dropdown">
       <a class="nav-link dropdown-toggle my-2 my-sm-0 d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <span class="me-3">Cuenta</span>
      <img [src]="usuarioFotoUrl" class="rounded-circle me-2 ms-2 " alt="Foto de usuario" width="40" height="40">
      </a>
      <ul class="dropdown-menu dropdown-menu-start">
      <li><a class="dropdown-item" routerLink="/propietario/datos-personales" (click)="closeMenu()">Datos personales</a></li>
      <li><hr class="dropdown-divider"></li>
      <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()">Cambiar contraseña</a></li>
      <li><hr class="dropdown-divider"></li>
      <li><a class="dropdown-item" href="#" (click)="cerrarSesion(); closeMenu()"> Logout </a></li>
      </ul>
     </li>
    </ul>
    </div>
  </div>
</nav>
<!-- Barra de navegacion para el administrador -->
<nav *ngIf="esAdministrador()" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Administrador</a>
    <button class="navbar-toggler"  type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page"  routerLink="/administrador/ver-formularios" >Solicitudes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page"  routerLink="/administrador/manejo-cuentas-propietarios" >Propietarios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#" (click)="cerrarSesion()">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- Barra de navegacion del empleado -->
 <!--Si el empleado es mesero-->
<nav *ngIf="esEmpleado() && getRol()=='1'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand mx-0" routerLink="/home"><strong>Restaurante </strong></a>
    <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-start flex-grow-1 pe-3">
          <li class="nav-item" data-bs-dismiss="offcanvas">
            <a class="nav-link " aria-current="page" routerLink="/mesero/lista-mesa">
              <i class="bi bi-pencil-square me-2 d-lg-none fw-bold"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Registrar Pedido
            </a>
          </li>
          <li class="nav-item" data-bs-dismiss="offcanvas">
            <a class="nav-link fw-lg-bold" routerLink="/mesero/lista-pedidos">
              <i class="bi bi-list-check me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Lista de Pedidos
            </a>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle " href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-circle me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Mi Perfil
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" data-bs-dismiss="offcanvas" routerLink="/empleados/datos-personales">
                <i class="bi bi-person me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
                Datos Personales
              </a></li>
              <li><a class="dropdown-item" data-bs-dismiss="offcanvas" routerLink="/reset-password">
                <i class="bi bi-key me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
                Cambiar Contraseña
              </a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-danger" href="#" (click)="cerrarSesion(); closeMenu()">
                <i class="bi bi-box-arrow-right me-2 d-lg-none"></i>
                Logout
              </a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div class="d-flex ms-auto ">
      <div class="dropdown-center mx-2">
        <a class="nav-link " href="#" role="button" data-bs-toggle="dropdown" (click)="marcarLeida(5)" aria-expanded="false">
          <i class="bi bi-bell"></i>

          <span *ngIf="notificacionesSinLeer !=0  " class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ notificacionesSinLeer }}
            <span class="visually-hidden">unread messages</span>
          </span>
          <!-- <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span> -->
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <div class="container-titulo mb-3 px-2">
            <p class="fs-5  border-bottom border-dark-subtle border-2">Notificaciones</p>
          </div>
          <li *ngIf="notificaciones.length == 0" >
            <a href="" class="list-group-item px-2 " style="width: 278px;">
              No tienes notificaciones
            </a>
          </li>
          <li *ngFor="let notificacion of notificaciones" class="border-bottom border-1">
            <a href="#" class="list-group-item list-group-item-action  notificacion px-2 ">
              <div class="d-flex w-100 justify-content-between">
                <strong class="mb-1">{{notificacion.titulo}}</strong>
                <small class="text-end">{{notificacion.creado_hace}}</small>
              </div>

              <p class="mb-1 small">{{notificacion.mensaje}}</p>
            </a>
          </li>
          <li *ngIf="notificaciones.length != 0" >
            <a routerLink="/notificacion/lista-notificacion" (click)="marcarLeida(0)" class="list-group-item px-2 notificacion text-end">
              Ver todas <i class="bi bi-chevron-right"></i>
            </a>
          </li>
        </ul>
      </div>

      
    </div>
    <button class="navbar-toggler btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" [ngClass]="{'show': !isMenuCollapsed}"
      aria-controls="offcanvasNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>
<!--Si el empleado es cocinero-->
<nav *ngIf="esEmpleado() && getRol()=='3'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">Empleado Cocinero</a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()"
      aria-controls="navbarSupportedContent" aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/cocinero/pedido-cocina" (click)="closeMenu()">Ver pedidos</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-2 d-lg-none"></i>
            Mi Perfil
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/empleados/datos-personales" (click)="closeMenu()">
              <i class="bi bi-person me-2 d-lg-none"></i>
              Datos Personales
            </a></li>
            <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()">
              <i class="bi bi-key me-2 d-lg-none"></i>
              Cambiar Contraseña
            </a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" (click)="cerrarSesion(); closeMenu()">
              <i class="bi bi-box-arrow-right me-2 d-lg-none"></i>
              Logout
            </a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--Si el empleado es cajero-->
<nav *ngIf="esEmpleado() && getRol()=='2'" class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/home">Empleado Cajero</a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()"
      aria-controls="navbarSupportedContent" aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Cuentas
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/cajero/lista-pedidos" (click)="closeMenu()">Pedidos</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" routerLink="/cajero/lista-cuentas-cerradas" (click)="closeMenu()">Cerradas</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
            Mi Perfil
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" routerLink="/empleados/datos-personales" (click)="closeMenu()">
              <i class="bi bi-person me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Datos Personales
            </a></li>
            <li><a class="dropdown-item" routerLink="/reset-password" (click)="closeMenu()">
              <i class="bi bi-key me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Cambiar Contraseña
            </a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" (click)="cerrarSesion(); closeMenu()">
              <i class="bi bi-box-arrow-right me-2 d-lg-none"></i> <!-- Ícono visible solo en pantallas pequeñas -->
              Logout
            </a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--Barra de navegacion del publico-->
<nav *ngIf="!esPropietario() && !esEmpleado() && !esAdministrador()"
  class="navbar navbar-expand-lg custom-navbar-color navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="../../../assets/image/serving_13073207.png" alt="Logo" style="width: 40px; height: 40px;">
      <label class="nav-item">LUGO</label>
    </a>
    <button class="navbar-toggler" type="button" (click)="toggleMenu()"
      aria-controls="navbarSupportedContent" aria-expanded="!isMenuCollapsed" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" [ngClass]="{'show': !isMenuCollapsed}" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/login" (click)="closeMenu()">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/formulario-registro" (click)="closeMenu()">Registro</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<app-registrar-categoria></app-registrar-categoria>