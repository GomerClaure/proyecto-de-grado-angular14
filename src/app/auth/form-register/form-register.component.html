<app-nav></app-nav><br><br>
<div class="container mt-5">
  <div class="text-center mb-4">
    <h1 class="fs-5">SOLICITUD DE REGISTRO DE RESTAURANTE</h1>
    <p class="lead">Completa el formulario con la información del restaurante y propietario.</p>
  </div>

  <form [formGroup]="restauranteForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
    <div class="row">
      <!-- Nombre del restaurante -->
      <div class="form-group col-md-6">
        <label for="nombreRestaurante">Nombre del restaurante</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-shop"></i></span>
          </div>
          <input 
            id="nombreRestaurante" 
            formControlName="nombreRestaurante" 
            class="form-control" 
            placeholder="Ej. La Casa de las Empanadas" 
            [ngClass]="{'is-invalid': restauranteForm.get('nombreRestaurante')?.invalid && restauranteForm.get('nombreRestaurante')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Nombre es requerido y debe tener al menos 3 caracteres
          </div>
        </div>
      </div>

      <!-- NIT -->
      <div class="form-group col-md-6">
        <label for="nit">NIT</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-card-text"></i></span>
          </div>
          <input 
            id="nit" 
            formControlName="nit" 
            class="form-control" 
            placeholder="Ej. 123456789"
            [ngClass]="{'is-invalid': restauranteForm.get('nit')?.invalid && restauranteForm.get('nit')?.touched}"
            required
          />
          <div class="invalid-feedback">
            NIT es requerido y solo puede contener números
          </div>
        </div>
      </div>

      <!-- Número de celular -->
      <div class="form-group col-md-6">
        <label for="numeroCelular">Número de celular</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-phone"></i></span>
          </div>
          <input 
            id="numeroCelular" 
            formControlName="numeroCelular" 
            class="form-control" 
            placeholder="Ej. 6001234567"
            [ngClass]="{'is-invalid': restauranteForm.get('numeroCelular')?.invalid && restauranteForm.get('numeroCelular')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Número de celular es requerido y debe tener 10 dígitos
          </div>
        </div>
      </div>

      <!-- Correo electrónico del restaurante -->
      <div class="form-group col-md-6">
        <label for="correoRestaurante">Correo electrónico del restaurante</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
          </div>
          <input 
            id="correoRestaurante" 
            formControlName="correoRestaurante" 
            class="form-control" 
            placeholder="Ej. restaurante@example.com"
            [ngClass]="{'is-invalid': restauranteForm.get('correoRestaurante')?.invalid && restauranteForm.get('correoRestaurante')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Correo electrónico es requerido y debe ser válido
          </div>
        </div>
      </div>

      <!-- Licencia de funcionamiento -->
      <div class="form-group col-md-6">
        <label for="licenciaFuncionamiento">Licencia de funcionamiento (PDF)</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-file-earmark-pdf"></i></span>
          </div>
          <input 
            id="licenciaFuncionamiento" 
            type="file" 
            (change)="onFileChange($event, 'licenciaFuncionamiento')" 
            class="form-control"
            [ngClass]="{'is-invalid': restauranteForm.get('licenciaFuncionamiento')?.invalid && restauranteForm.get('licenciaFuncionamiento')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Licencia es requerida y debe ser un archivo PDF
          </div>
        </div>
      </div>

      <!-- Ubicación del restaurante -->
      <div class="form-group col-md-6">
        <label for="ubicacionRestaurante">Ubicación del restaurante</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>
          </div>
          <input 
            id="ubicacionRestaurante" 
            formControlName="ubicacionRestaurante" 
            class="form-control" 
            placeholder="Ej. Av. Siempre Viva 742"
            [ngClass]="{'is-invalid': restauranteForm.get('ubicacionRestaurante')?.invalid && restauranteForm.get('ubicacionRestaurante')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Ubicación es requerida
          </div>
        </div>
      </div>

      <!-- Tipo de establecimiento -->
      <div class="form-group col-md-6">
        <label for="tipoEstablecimiento">Tipo de establecimiento</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-building"></i></span>
          </div>
          <input 
            id="tipoEstablecimiento" 
            formControlName="tipoEstablecimiento" 
            class="form-control" 
            placeholder="Ej. Restaurante, Cafetería"
            [ngClass]="{'is-invalid': restauranteForm.get('tipoEstablecimiento')?.invalid && restauranteForm.get('tipoEstablecimiento')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Tipo de establecimiento es requerido
          </div>
        </div>
      </div>

      <!-- Nombre del propietario -->
      <div class="form-group col-md-6">
        <label for="nombrePropietario">Nombre del propietario</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
          </div>
          <input 
            id="nombrePropietario" 
            formControlName="nombrePropietario" 
            class="form-control" 
            placeholder="Ej. Juan"
            [ngClass]="{'is-invalid': restauranteForm.get('nombrePropietario')?.invalid && restauranteForm.get('nombrePropietario')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Nombre del propietario es requerido
          </div>
        </div>
      </div>

      <!-- Apellido paterno -->
      <div class="form-group col-md-6">
        <label for="apellidoPaterno">Apellido paterno</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
          </div>
          <input 
            id="apellidoPaterno" 
            formControlName="apellidoPaterno" 
            class="form-control" 
            placeholder="Ej. Pérez"
            [ngClass]="{'is-invalid': restauranteForm.get('apellidoPaterno')?.invalid && restauranteForm.get('apellidoPaterno')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Apellido paterno es requerido
          </div>
        </div>
      </div>

      <!-- Apellido materno -->
      <div class="form-group col-md-6">
        <label for="apellidoMaterno">Apellido materno</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
          </div>
          <input 
            id="apellidoMaterno" 
            formControlName="apellidoMaterno" 
            class="form-control" 
            placeholder="Ej. Rodríguez"
            [ngClass]="{'is-invalid': restauranteForm.get('apellidoMaterno')?.invalid && restauranteForm.get('apellidoMaterno')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Apellido materno es requerido
          </div>
        </div>
      </div>

      <!-- Correo electrónico del propietario -->
      <div class="form-group col-md-6">
        <label for="correoPropietario">Correo electrónico del propietario</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
          </div>
          <input 
            id="correoPropietario" 
            formControlName="correoPropietario" 
            class="form-control" 
            placeholder="Ej. juan@example.com"
            [ngClass]="{'is-invalid': restauranteForm.get('correoPropietario')?.invalid && restauranteForm.get('correoPropietario')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Correo del propietario es requerido y debe ser válido
          </div>
        </div>
      </div>

      <!-- Cédula de identidad -->
      <div class="form-group col-md-6">
        <label for="cedulaIdentidad">Cédula de identidad</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-card-heading"></i></span>
          </div>
          <input 
            id="cedulaIdentidad" 
            formControlName="cedulaIdentidad" 
            class="form-control" 
            placeholder="Ej. 12345678"
            [ngClass]="{'is-invalid': restauranteForm.get('cedulaIdentidad')?.invalid && restauranteForm.get('cedulaIdentidad')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Cédula de identidad es requerida y debe contener solo números
          </div>
        </div>
      </div>

      <!-- Fotografía del propietario -->
      <div class="form-group col-md-6">
        <label for="fotoPropietario">Fotografía del propietario</label>
        <div class="input-group has-validation">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="bi bi-file-earmark-image"></i></span>
          </div>
          <input 
            id="fotoPropietario" 
            type="file" 
            (change)="onFileChange($event, 'fotoPropietario')" 
            class="form-control"
            [ngClass]="{'is-invalid': restauranteForm.get('fotoPropietario')?.invalid && restauranteForm.get('fotoPropietario')?.touched}"
            required
          />
          <div class="invalid-feedback">
            Fotografía del propietario es requerida
          </div>
        </div>
      </div>

    </div>

    <div class="text-center mt-4">
      <button type="submit" class="btn btn-primary btn-lg" [disabled]="restauranteForm.invalid">Registrar Restaurante</button>
    </div>
  </form>
</div>
